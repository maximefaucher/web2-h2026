# Littéraux de gabarits JavaScript

## 1. Définition / syntaxe

> Référence : [MDN : Littéraux de gabarits](https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Template_literals)

Les **littéraux de gabarits** (template literals) sont des chaînes délimitées par des **backticks** (accent grave) : `` ` ... ` ``. Ils permettent :

- L'**interpolation** d'expressions avec la syntaxe `${expression}` (espaces réservés).
- Les **chaînes multilignes** sans échappements spéciaux.
- Les **gabarits étiquetés** (*tagged templates*) pour traiter le texte et les valeurs interpolées via une fonction.

**Syntaxe de base** :

```js
const nom = "Ava";
const message = `Bonjour, ${nom}!`;
```

**Multiligne** :

```js
const bloc = `Ligne 1
Ligne 2
Ligne 3`;
```

## 2. Utilité / Avantages

- **Interpolation expressive** : insérer variables, appels de fonctions et expressions directement dans la chaîne.
- **Lisibilité accrue** : code plus clair que la concaténation avec `+`.
- **Chaînes multilignes** : conservation des retours à la ligne et indentation pratique.
- **Sécurité et formatage** via *tagged templates* :
  - Échapper automatiquement le HTML pour prévenir les injections XSS.
  - Internationalisation (i18n) et formatage (nombres, devises, dates) centralisés.
- **Composition de gabarits** : combiner sous-gabarits pour générer du HTML, du Markdown, des requêtes SQL (avec prudence), etc.

## 3. Exemples

### A. Interpolation d'expressions

```js
const a = 10, b = 3;
console.log(`${a} + ${b} = ${a + b}`); // 10 + 3 = 13
```

### B. Multiligne et indentation

```js
const titre = "Notes";
const md = `# ${titre}
- Item 1
- Item 2`;
console.log(md);
```

### C. Génération de HTML (simple)

```js
const user = { nom: "Ava", role: "admin" }; // un objet JS avec 2 propriétés
const html = `
  <div class="user">
    <h2>${user.nom}</h2>
    <p>Rôle: ${user.role}</p>
  </div>
`;
// Injecter dans le DOM avec prudence :
// document.querySelector('#app').innerHTML = html;
```

### D. Réutilisation de sous-gabarits (gabarits imbriqués)

```js
const item = (t) => `- ${t}`; // item est une fonction, elle prend un paramètre t et retourne un gabarit contenant t
const liste = `
${item('Phase 1')}
${item('Phase 2')}
${item('Phase 3')}`;
console.log(`Checklist:${liste}`);
```

### E. Littéraux bruts avec `String.raw`

```js
console.log(String.raw`C:\Users\max
Littéral brut: \n`);
```

---

## 4. Remarques pédagogiques

- Préférer les littéraux de gabarits aux concaténations répétées pour la clarté.
- Supportés par tous les navigateurs modernes et Node.js (ES2015+). Pour des environnements anciens, utiliser un transpileur (ex. Babel).
