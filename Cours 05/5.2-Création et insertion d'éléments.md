# Création et insertion d'éléments dans le DOM

## 1. Créer les éléments : `document.createElement()`

Cette méthode sert à fabriquer un élément HTML **en mémoire**, sans encore l'afficher sur la page.

> **Syntaxe** :  
`const nouvelElement = document.createElement('balise');`

```js
const div = document.createElement('div');
const titre = document.createElement('h2');
const paragraphe = document.createElement('p');
```

À ce stade, `div`, `titre` et `paragraphe` sont des objets JavaScript représentant de futurs `<div>`, `<p>` et `<h2>` respectivement, mais il ne sont pas encore visibles dans la page.

## 2. Configurer les propriétés de l'élément

On peut ensuite configurer les éléments en définissant des valeurs pour certaines propriétés (selon les besoins) :

```js
div.className = "container bg-pink-500";

titre.textContent = 'Bonjour DOM';
titre.className = 'font-extrabold';
titre.id = 'titre-2';

paragraphe.textContent = "Ceci est un élément <p>!";
paragraphe.className = "text-blue-500 italic";
```

## 3. Assembler les éléments

Avant d'ajouter quoi que ce soit à la page, on peut assembler les éléments créés ensemble, afin de créer une mini-arborescence. Cet assemblage sera réalisé à l'aide de diverses méthodes d'insertion, dont voici un aperçu rapide :

### Méthodes d'insertion

|Méthode|S'applique à|Où est inséré l'élément?|Remarques / Cas d'usage|
|---|---|---|---|
|`append(...noeuds)`|Parent|À la fin des enfants|Pour ajouter plusieurs enfants (en fin), accepte plusieurs noeuds|
|`prepend(...noeuds)`|Parent|Au début des enfants|Pour ajouter plusieurs enfants (en début), accepte plusieurs noeuds|
|`insertAdjacentElement(position, noeud)`|Élément existant|Position relative précise|Flexible, ne nécessite pas de passer par le parent. N'insère qu'un seul élément|
|`before(...noeuds)`|Élément existant|Avant l'élément|Pas de parent, accepte plusieurs noeuds pour insertion avant|
|`after(...noeuds)`|Élément existant|Après l'élément|Pas de parent, accepte plusieurs noeuds pour insertion après|
|`replaceWith(...noeuds)`|Élément existant|Remplace l'élément|Expressif, permet le remplacement, accepte plusieurs noeuds|

**Remarque** : *La forte majorité du temps, les noeuds insérés seront des **éléments***.

### Poisitions possible avec `inserAdjacentElement`

|Valeur|Position|Équivalence|
|---|---|---|
|`"beforebegin"`|Avant l'élément|`before()`|
|`"afterbegin"`|À l'intérieur, au début|`prepend()`|
|`"beforeend"`|À l'intérieur, à la fin|`append()`|
|`"afterend"`|Après l'élément|`after()`|

Dans notre exemple, assemblons les éléments comme suit :

```html
<div>
    <h2></h2>
    <p></p>
</div>
```

```js
div.append(paragraphe); // ajoute le <p> DANS la <div> (comme dernier enfant)
paragraphe.insertAdjacentElement('beforebegin', titre); // ajoute le <h2> AVANT le <p>, donc dans la <div> aussi
```

## 4. Insérer les éléments dans la page

Enfin : on attache notre structure à la page, par exemple dans un conteneur existant. On utilise l'une des méthodes d'insertion présentée à l'étape précédente.

```js
const conteneur = document.getElementById('app');
conteneur.append(div);
```

### Exemple complet

```html
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Démo sur la création/insertion d'éléments dans le DOM</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>
<body class="bg-gray-100 min-h-screen p-8">
    <div id="app"></div>

    <script>
        // Étape 1 - CRÉER
        const div = document.createElement('div');
        const titre = document.createElement('h2');
        const paragraphe = document.createElement('p');

        // Étape 2 - CONFIGURER
        div.className = "container bg-pink-500";
        titre.textContent = 'Bonjour DOM';
        titre.className = 'font-extrabold';
        titre.id = 'titre-2';
        paragraphe.textContent = "Ceci est un élément <p>!";
        paragraphe.className = "text-blue-500 italic";

        // Étape 3 - ASSEMBLER
        div.append(paragraphe); // ajoute le <p> DANS la <div> (comme dernier enfant)
        paragraphe.insertAdjacentElement('beforebegin', titre); // ajoute le <h2> AVANT le <p>, donc dans la <div> aussi

        // Étape 4 - INSÉRER
        const conteneur = document.getElementById('app');
        conteneur.append(div);
    </script>    
</body>
</html>
```

## En résumé

1. Créer
2. Configurer
3. Assembler
4. Insérer

**Et le tour est joué!**

## 5. Supprimer un élément du DOM

Pour supprimer un élément du DOM, on peut utiliser la méthode `remove()` directement sur l'élément à supprimer :

```js
const elementASupprimer = document.getElementById('titre-2');
elementASupprimer.remove();
```
