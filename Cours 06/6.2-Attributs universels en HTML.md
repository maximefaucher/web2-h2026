# Les attributs universels `data-*` en HTML

## 1. Définition et origine

Les **attributs universels** `data-*` **permettent de stocker** dans le HTML **des informations supplémentaires, utiles pour JavaScript**.

Ils ont été introduits avec HTML5 pour offrir un moyen standard, propre et valide d'attacher des données à des éléments, sans devoir créer des attributs non conformes ou passer par des classes détournées.

En résumé, ils servent à **transporter des données entre le HTML et le JavaScript**.

> **Rappel** :  
Les attributs HTML sont tous de type *chaînes de caractères* alors si on souhaite traiter des données de type numérique ou autre, il faut penser à **convertir les chaînes** qui représentent les valeurs des attributs `data-*`.

## 2. Syntaxe des attributs universels `data-*` : dans le HTML vs dans le DOM

### Dans le HTML

```html
<element data-attribut-universel="valeur">
```

#### Quelques règles de nomenclature : HTML

- Les noms des attributs universels **débutent toujours par** `data-`
- Après le premier tiret, n'utiliser que des **lettre minuscules**, **chiffres** *ou **tirets** sans espace (le *kebab case*).

**Exemple** :

```html
<div id="carte" data-id="42" data-nom="aluminium" data-poids-moyen="13.5" data-nb-protons-neutrons="[13,14]"></div>
```

### Dans le DOM (JavaScript)

Les attributs deviennent accessibles dans un objet JavaScript spécial :

```js
element.dataset.attributUniversel
```

#### Quelques règles de nomenclature : JS

- Les tirets sont retirés
- Les noms des propriétés de l'objet `element.dataset` sont convertis en `camelCase`

### Équivalences

|Dans le HTML|Dans le DOM|
|---|---|
|`data-id`|`elm.dataset.id`|
|`data-nom`|`elm.dataset.nom`|
|`data-poids-moyen`|`elm.dataset.poidsMoyen`|
|`data-nb-protons-neutrons`|`elm.dataset.nbProtonsNeutrons`|

## 3. Exemples d'utilisations courantes

1. Stocker l'ID ou un identifiant pour un script

    ```html
    <div data-product-id="75822">
        <!-- HTML d'un produit -->
    </div>
    ```

2. Paramétrer le comportement d'un élément

    ```html
    <div class="notification" data-delay="1500"></div>
    ```

    ```js
    setTimeout(() => showNotification(), element.dataset.delay);
    ```

3. Transporter des valeurs liées à l'affichage

    Exemples : couleurs, indices, orientations, états, etc.

    ```html
    <div class="carte" data-type="rare" data-couleur="bleu"></div>
    ```

4. Fournir des données pour un composant

    Très utilisé dans :
      - Les carrousels
      - Les menus dynamiques
      - Les animations CSS/JS

    ```html
    <li data-speed="1500" data-animation="slide"></li>
    ```

5. Stocker des données provenant du *backend*

    Pratique quand on génère du HTML à partir d'un script serveur (avec PHP, par exemple).

    ```html
    <div data-json='{"nom":"Étain","symbole":"Sn"}'></div>
    ```

    ```js
    const data = JSON.parse(div.dataset.json);
    ```

## 4. Bonnes pratiques

- Utiliser `data-*` pour de petites données (texte, nombre, options, états)
- Garder les données lourdes dans une base de données ou un fichier externe
